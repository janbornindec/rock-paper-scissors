<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport", content="width=device-width, initial-scale=1.0">
        <title>Rock Paper Scissors</title>
        <script src="javascript.js"></script>
    </head>

    <body>
        <script>
            //three choices: Rock, Paper, Scissors
            const choices = ['rock','paper','scissors'];

            //computer to choose randomly 
            let getComputerChoice = () => Math.floor(Math.random() * 3);

            //user to input their choice
            function getUserChoice() {
                userSelection = prompt("Choose Rock, Paper or Scissors: ").toLowerCase();

                if (userSelection === 'rock' || userSelection === 'paper' || userSelection === 'scissors') {
                    return userSelection;
                } else {
                    alert("Invalid answer. Please check your spelling again. Choose Rock, Paper or Scissors.");
                    getUserChoice();
                };
            };

            //compare both choices, announce the winner
            function chooseWinner() {
                if (computerSelection === 'rock') {

                    if (userSelection === 'rock') {
                        alert("It's a tie!");
                        console.log("Tie");

                    } else if (userSelection === 'paper') {
                        alert("Congrats, you won!");
                        console.log("User won");

                    } else {
                        alert("Oops, you lost!");
                        console.log("Computer won");
                    };

                } else if (computerSelection === 'paper') {
                    if (userSelection === 'rock') {
                        alert("Oops, you lost!");
                        console.log("Computer won");

                    } else if (userSelection === 'paper') {
                        alert("It's a tie!");
                        console.log("Tie");
                        
                    } else {
                        alert("Congrats, you won!");
                        console.log("User won");
                    };

                } else {
                    if (userSelection === 'rock') {
                        alert("Congrats, you won!");
                        console.log("User won");

                    } else if (userSelection === 'paper') {
                        alert("Oops, you lost!");
                        console.log("Computer won");
                        
                    } else {
                        alert("It's a tie!");
                        console.log("Tie");
                    };
                };
            };

            //start the game
            let gameOn = true; 
            //counting round
            let round = 0;
            while (gameOn) {

                startGame = prompt('Are you ready to play? Y or N: ') ;

                //if user quit by other methods than entering N
                if (startGame === null) {
                    alert("You've cancelled the game. Refresh the page to start again.")
                    gameOn = false;
                
                } else if (startGame[0].toUpperCase() === 'Y') {
                    //adding round each game
                    round += 1;
                    //print round number
                    msg = console.log("Round " + round + ":");
                    getComputerChoice();
                    computerSelection = choices[getComputerChoice()];
                    getUserChoice();
                    chooseWinner();
                    continue;

                } else if (startGame[0].toUpperCase() === 'N') {
                    alert("You've exited the game. Refresh the page to start again.")
                    gameOn = false;
                    
                } else {
                    alert('Invalid answer. Please enter Y or N.');
                    continue;
                };
            };

        </script>
    </body>
</html>